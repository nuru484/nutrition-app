<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="styles/tailwindOut.css" rel="stylesheet" />
    <title><%= meal.name %> Details</title>
    <style>
      /* Flexbox layout for card structure */
      .meal-details-card {
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      .meal-image {
        flex: 4;
      }

      .meal-info {
        flex: 1;
      }

      /* Set height to ensure the layout mimics a vertical card */
      .details-card {
        height: calc(100vh - 4rem); /* Adjust based on header */
        display: flex;
        flex-direction: column;
      }

      /* Updated modal design */
      #mealsModal {
        background-color: rgba(0, 0, 0, 0.6); /* Darker overlay for emphasis */
      }

      /* Smaller and more defined modal content */
      #mealsModal .modal-content {
        width: 90%; /* Adjust width */
        max-width: 400px; /* Maximum width */
        background-color: white;
        padding: 2rem;
        border-radius: 0.5rem;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3); /* Strong shadow for emphasis */
        transform: translateY(-50px); /* Subtle animation feel */
      }

      #modalMessage {
        color: #333; /* Darker text for contrast */
      }
    </style>
  </head>
  <body class="bg-gray-100 overflow-x-hidden">
    <main class="container mx-auto p-8">
      <!-- Meal Details Card -->
      <section class="details-card bg-white p-6 rounded-lg shadow-lg">
        <!-- Meal Image -->
        <div class="meal-image">
          <img
            src="/photos/meals/<%= meal.photo %>"
            alt="<%= meal.name %>"
            class="w-full h-full object-cover rounded-t-lg"
          />
        </div>

        <!-- Meal Information -->
        <div class="meal-info p-4 flex flex-col justify-between">
          <h1 class="text-3xl font-bold text-gray-800 mb-4">
            <%= meal.name %>
          </h1>
          <ul class="text-lg text-gray-700 space-y-2">
            <li>
              <span class="font-semibold text-gray-900">Calories:</span>
              <%= meal.calories %> kcal
            </li>
            <li>
              <span class="font-semibold text-gray-900">Protein:</span>
              <%= meal.protein %> g
            </li>
            <li>
              <span class="font-semibold text-gray-900">Carbohydrates:</span>
              <%= meal.carbohydrates %> g
            </li>
            <li>
              <span class="font-semibold text-gray-900">Fat:</span>
              <%= meal.fat %> g
            </li>
          </ul>

          <!-- Consume Button -->
          <button
            class="bg-blue-500 text-white font-semibold py-2 mt-4 rounded-lg transition duration-200 hover:bg-blue-600"
            data-user-id="<%= userId %>"
            onclick="consumeMeal('<%= meal.id %>')"
          >
            Consume
          </button>
        </div>
      </section>
    </main>

    <!-- Modal -->
    <div
      id="mealsModal"
      class="fixed inset-0 flex items-center justify-center z-50 hidden"
    >
      <div class="modal-content">
        <h2 id="modalMessage" class="text-lg font-semibold"></h2>
        <button
          id="closeModalButton"
          class="mt-4 w-full bg-blue-500 text-white font-semibold py-2 rounded-lg hover:bg-blue-600 transition-colors"
        >
          Close
        </button>
      </div>
    </div>
  </body>
</html>
